<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>National Timing Windows Dataset - 3&nbsp; Data Sources Overview</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 1em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./1_research_compendium.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./2_data.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Sources Overview</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">National Timing Windows Dataset</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_research_compendium.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Research compendium</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_data.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Sources Overview</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#data-sources-overview" id="toc-data-sources-overview" class="nav-link active" data-scroll-target="#data-sources-overview"><span class="header-section-number">4</span> Data Sources Overview</a>
  <ul class="collapse">
  <li><a href="#sec-canada-outline" id="toc-sec-canada-outline" class="nav-link" data-scroll-target="#sec-canada-outline"><span class="header-section-number">4.1</span> Canadian Outline</a>
  <ul class="collapse">
  <li><a href="#source-and-description" id="toc-source-and-description" class="nav-link" data-scroll-target="#source-and-description"><span class="header-section-number">4.1.1</span> Source and Description</a></li>
  <li><a href="#processing-steps" id="toc-processing-steps" class="nav-link" data-scroll-target="#processing-steps"><span class="header-section-number">4.1.2</span> Processing Steps</a></li>
  <li><a href="#processed-data-structure" id="toc-processed-data-structure" class="nav-link" data-scroll-target="#processed-data-structure"><span class="header-section-number">4.1.3</span> Processed Data Structure</a></li>
  </ul></li>
  <li><a href="#sec-freshwater-fish" id="toc-sec-freshwater-fish" class="nav-link" data-scroll-target="#sec-freshwater-fish"><span class="header-section-number">4.2</span> Canadian Freshwater Fish Species</a>
  <ul class="collapse">
  <li><a href="#source-and-description-1" id="toc-source-and-description-1" class="nav-link" data-scroll-target="#source-and-description-1"><span class="header-section-number">4.2.1</span> Source and Description</a></li>
  <li><a href="#processing-steps-1" id="toc-processing-steps-1" class="nav-link" data-scroll-target="#processing-steps-1"><span class="header-section-number">4.2.2</span> Processing Steps</a></li>
  <li><a href="#processed-data-structure-1" id="toc-processed-data-structure-1" class="nav-link" data-scroll-target="#processed-data-structure-1"><span class="header-section-number">4.2.3</span> Processed Data Structure</a></li>
  </ul></li>
  <li><a href="#sec-canadian-hydrology" id="toc-sec-canadian-hydrology" class="nav-link" data-scroll-target="#sec-canadian-hydrology"><span class="header-section-number">4.3</span> Canadian Hydrological Features</a>
  <ul class="collapse">
  <li><a href="#source-and-description-2" id="toc-source-and-description-2" class="nav-link" data-scroll-target="#source-and-description-2"><span class="header-section-number">4.3.1</span> Source and Description</a></li>
  <li><a href="#processing-steps-2" id="toc-processing-steps-2" class="nav-link" data-scroll-target="#processing-steps-2"><span class="header-section-number">4.3.2</span> Processing Steps</a></li>
  <li><a href="#processed-data-structure-2" id="toc-processed-data-structure-2" class="nav-link" data-scroll-target="#processed-data-structure-2"><span class="header-section-number">4.3.3</span> Processed Data Structure</a></li>
  </ul></li>
  <li><a href="#references-1" id="toc-references-1" class="nav-link" data-scroll-target="#references-1"><span class="header-section-number">4.4</span> References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Sources Overview</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="data-sources-overview" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Data Sources Overview</h1>
<section id="sec-canada-outline" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="sec-canada-outline"><span class="header-section-number">4.1</span> Canadian Outline</h2>
<section id="source-and-description" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="source-and-description"><span class="header-section-number">4.1.1</span> Source and Description</h3>
<p>The dataset, titled <strong>Canada Outline</strong>, was generated to create a simplified polygon of Canada’s national boundaries. This dataset was produced using the <a href="https://gadm.org">GADM</a> Level 1 administrative boundary data for Canada, with the geometry simplified for efficient large-scale spatial analysis <span class="citation" data-cites="gadm2023">(<a href="#ref-gadm2023" role="doc-biblioref">Global Administrative Areas, 2023</a>)</span>. The resulting GeoPackage file represents Canada and its provinces/territories with reduced geometric complexity. The dataset is suitable for mapping and spatial analysis tasks requiring simplified boundaries.</p>
</section>
<section id="processing-steps" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="processing-steps"><span class="header-section-number">4.1.2</span> Processing Steps</h3>
<p>The processed data was generated using the <code>prc_canada_outline</code> script. The following steps were undertaken:</p>
<ol type="1">
<li><strong>Data Acquisition</strong>:
<ul>
<li>GADM Level 1 administrative boundary data for Canada was retrieved using the <code>geodata::gadm</code> function.</li>
</ul></li>
<li><strong>Geometry Simplification</strong>:
<ul>
<li>Simplified the polygon geometry to reduce data complexity using the <code>terra::simplifyGeom</code> function with a tolerance of 0.1.</li>
</ul></li>
<li><strong>Output Generation</strong>:
<ul>
<li>The simplified boundary dataset was saved as <code>can_1_simplified.gpkg</code> in GeoPackage format.</li>
</ul></li>
</ol>
</section>
<section id="processed-data-structure" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="processed-data-structure"><span class="header-section-number">4.1.3</span> Processed Data Structure</h3>
<p>The structure of the simplified dataset is as follows:</p>
<div class="cell">
<div id="tbl-canada-outline" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-canada-outline-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.1: Structure of the simplified Canada outline dataset
</figcaption>
<div aria-describedby="tbl-canada-outline-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">gid_1</td>
<td style="text-align: left;">Unique identifier for the first administrative level.</td>
</tr>
<tr class="even">
<td style="text-align: left;">gid_0</td>
<td style="text-align: left;">Country code for Canada.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">country</td>
<td style="text-align: left;">Name of the country (Canada).</td>
</tr>
<tr class="even">
<td style="text-align: left;">name_1</td>
<td style="text-align: left;">Name of the first administrative level (Province/Territory).</td>
</tr>
<tr class="odd">
<td style="text-align: left;">varname_1</td>
<td style="text-align: left;">Alternative or variant names for the region.</td>
</tr>
<tr class="even">
<td style="text-align: left;">nl_name_1</td>
<td style="text-align: left;">Native language names for the region.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">type_1</td>
<td style="text-align: left;">Type of administrative unit (Province/Territory).</td>
</tr>
<tr class="even">
<td style="text-align: left;">engtype_1</td>
<td style="text-align: left;">English type name for the administrative unit.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cc_1</td>
<td style="text-align: left;">Internal code for the administrative region.</td>
</tr>
<tr class="even">
<td style="text-align: left;">hasc_1</td>
<td style="text-align: left;">Hierarchical administrative subdivision code.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">iso_1</td>
<td style="text-align: left;">ISO code for the administrative region.</td>
</tr>
<tr class="even">
<td style="text-align: left;">geom</td>
<td style="text-align: left;">Simplified polygon geometry for the region.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<section id="references" class="level4" data-number="4.1.3.1">
<h4 data-number="4.1.3.1" class="anchored" data-anchor-id="references"><span class="header-section-number">4.1.3.1</span> References</h4>
<ul>
<li>GADM (2025). GADM database of Global Administrative Areas. Retrieved from <a href="https://gadm.org">https://gadm.org</a>.</li>
</ul>
</section>
</section>
</section>
<section id="sec-freshwater-fish" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-freshwater-fish"><span class="header-section-number">4.2</span> Canadian Freshwater Fish Species</h2>
<section id="source-and-description-1" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="source-and-description-1"><span class="header-section-number">4.2.1</span> Source and Description</h3>
<p>The dataset, titled <strong>FishBase Freshwater Species Checklist</strong>, was harvested from <a href="https://www.fishbase.se/">FishBase</a> <span class="citation" data-cites="fishbase2024">(<a href="#ref-fishbase2024" role="doc-biblioref">Froese, R. and Pauly, D., 2024</a>)</span>. This comprehensive dataset provides information on freshwater fish species found across Canada. It includes essential taxonomic and ecological details, such as species name, vernacular name, family, and order. The source data consists of HTML tables retrieved through web scraping and transformed into a structured format for analysis.</p>
</section>
<section id="processing-steps-1" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="processing-steps-1"><span class="header-section-number">4.2.2</span> Processing Steps</h3>
<p>The harvested raw data was processed using the <code>prc_freshwater_fish_canada</code> script, which included the following steps:</p>
<ol type="1">
<li><strong>Data Cleaning</strong>: Column names were standardized using the <code>janitor::clean_names</code> function.</li>
<li><strong>Field Selection</strong>: The column <code>name_in_country</code> was removed as it was not relevant for this analysis.</li>
<li><strong>Column Renaming</strong>: The <code>fish_base_name</code> column was renamed to <code>vernacular</code> to provide clarity.</li>
<li><strong>Data Export</strong>: The processed data was saved as a CSV file named <code>freshwater_fish_species_canada.csv</code>.</li>
</ol>
</section>
<section id="processed-data-structure-1" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="processed-data-structure-1"><span class="header-section-number">4.2.3</span> Processed Data Structure</h3>
<p>The processed dataset retains the following structure:</p>
<div class="cell">
<div id="tbl-freshwater-fish" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-freshwater-fish-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.2: Structure of the processed freshwater fish species dataset for Canada
</figcaption>
<div aria-describedby="tbl-freshwater-fish-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">species</td>
<td style="text-align: left;">Scientific name of the fish species.</td>
</tr>
<tr class="even">
<td style="text-align: left;">vernacular</td>
<td style="text-align: left;">Common name of the fish species.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">order</td>
<td style="text-align: left;">Taxonomic order to which the species belongs.</td>
</tr>
<tr class="even">
<td style="text-align: left;">family</td>
<td style="text-align: left;">Taxonomic family to which the species belongs.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">occurrence</td>
<td style="text-align: left;">Occurrence status of the species in Canada (e.g., native).</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="sec-canadian-hydrology" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="sec-canadian-hydrology"><span class="header-section-number">4.3</span> Canadian Hydrological Features</h2>
<section id="source-and-description-2" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="source-and-description-2"><span class="header-section-number">4.3.1</span> Source and Description</h3>
<p>The dataset, titled <strong>Atlas of Canada National Scale Data 1:1,000,000 - Waterbodies &amp; Rivers</strong>, was harvested from <a href="https://open.canada.ca/data/en/dataset/e9931fc7-034c-52ad-91c5-6c64d4ba0065">Natural Resources Canada</a> <span class="citation" data-cites="nrcan2022a nrcan2022b">(<a href="#ref-nrcan2022a" role="doc-biblioref">Canada, 2022b</a>, <a href="#ref-nrcan2022b" role="doc-biblioref">2022a</a>)</span>. This comprehensive GIS dataset includes spatial and tabular data representing Canada’s hydrological features. It consists of waterbodies and river datasets compiled for large-scale mapping at a 1:1,000,000 scale. The processed dataset provides geospatial layers of lakes and rivers, including both their polygonal representations and sampled points for further spatial analyses.</p>
</section>
<section id="processing-steps-2" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="processing-steps-2"><span class="header-section-number">4.3.2</span> Processing Steps</h3>
<p>The harvested raw data was processed using the <code>prc_atlas_of_canada_hydrology</code> script. The following steps were performed:</p>
<ol type="1">
<li><strong>Unzipping</strong>: The compressed GDB files were extracted to a temporary directory for processing.</li>
<li><strong>Lake Processing</strong>:
<ul>
<li>Loaded the “AC_1M_Waterbodies” layer using the <code>sf::st_read</code> function.</li>
<li>Calculated the area and perimeter of each lake using <code>sf::st_area</code> and <code>lwgeom::st_perimeter_lwgeom</code>.</li>
<li>Filter lakes to keep only lakes with area &gt; 5 <span class="math inline">\(km^2\)</span>.</li>
<li>Generated a unique <code>waterbody_id</code> for each lake and classified it as type <code>lake</code>.</li>
<li>Retained relevant columns: <code>waterbody_id</code>, <code>wb_type</code>, <code>name</code>, <code>name_fr</code>, <code>area</code>, and <code>perimeter</code>.</li>
<li>Transformed the data to CRS 4326 and exported it as <code>lakes_polygons.gpkg</code>.</li>
<li>Generated centroids for each lake and exported the point layer as <code>lakes_points.gpkg</code>.</li>
</ul></li>
<li><strong>River Processing</strong>:
<ul>
<li>Loaded the “AC_1M_Rivers_dense” layer using the <code>sf::st_read</code> function.</li>
<li>Calculated the length of each river segment using <code>sf::st_length</code>.</li>
<li>Filter lakes to keep only lakes with length &gt; 10 km.</li>
<li>Generated a unique <code>waterbody_id</code> for each river and classified it as type <code>river</code>.</li>
<li>Retained relevant columns: <code>waterbody_id</code>, <code>wb_type</code>, <code>name</code>, <code>name_fr</code>, and <code>length</code>.</li>
<li>Transformed the data to CRS 4326 and exported it as <code>rivers_lines.gpkg</code>.</li>
<li>Sampled points along each river segment at the mid-point of each rivers, cast the lines to points, and exported as <code>rivers_points.gpkg</code>.</li>
</ul></li>
<li><strong>Cleanup</strong>: Temporary files created during processing were deleted.</li>
</ol>
</section>
<section id="processed-data-structure-2" class="level3" data-number="4.3.3">
<h3 data-number="4.3.3" class="anchored" data-anchor-id="processed-data-structure-2"><span class="header-section-number">4.3.3</span> Processed Data Structure</h3>
<p>The structure of the processed lake polygon dataset is as follows:</p>
<div class="cell">
<div id="tbl-lakes-polygons" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lakes-polygons-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.3: Structure of the processed lake polygon dataset for Canada
</figcaption>
<div aria-describedby="tbl-lakes-polygons-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">waterbody_id</td>
<td style="text-align: left;">Unique identifier for each lake feature.</td>
</tr>
<tr class="even">
<td style="text-align: left;">wb_type</td>
<td style="text-align: left;">Type of waterbody, always ‘lake’ for this dataset.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">name</td>
<td style="text-align: left;">Name of the lake in English.</td>
</tr>
<tr class="even">
<td style="text-align: left;">name_fr</td>
<td style="text-align: left;">Name of the lake in French.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">area</td>
<td style="text-align: left;">Surface area of the lake in square kilometers.</td>
</tr>
<tr class="even">
<td style="text-align: left;">perimeter</td>
<td style="text-align: left;">Perimeter of the lake in kilometers.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>The structure of the processed lake point dataset is as follows:</p>
<div class="cell">
<div id="tbl-lakes-points" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-lakes-points-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.4: Structure of the processed lake point dataset for Canada
</figcaption>
<div aria-describedby="tbl-lakes-points-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 83%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">waterbody_id</td>
<td style="text-align: left;">Unique identifier for each lake feature.</td>
</tr>
<tr class="even">
<td style="text-align: left;">geom</td>
<td style="text-align: left;">Centroid geometry of the lake in geographic coordinates (CRS 4326).</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>The structure of the processed river line dataset is as follows:</p>
<div class="cell">
<div id="tbl-rivers-lines" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rivers-lines-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.5: Structure of the processed river line dataset for Canada
</figcaption>
<div aria-describedby="tbl-rivers-lines-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">waterbody_id</td>
<td style="text-align: left;">Unique identifier for each river segment.</td>
</tr>
<tr class="even">
<td style="text-align: left;">wb_type</td>
<td style="text-align: left;">Type of waterbody, always ‘river’ for this dataset.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">name</td>
<td style="text-align: left;">Name of the river in English.</td>
</tr>
<tr class="even">
<td style="text-align: left;">name_fr</td>
<td style="text-align: left;">Name of the river in French.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">length</td>
<td style="text-align: left;">Length of the river segment in kilometers.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<p>The structure of the processed river point dataset is as follows:</p>
<div class="cell">
<div id="tbl-rivers-points" class="cell quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-rivers-points-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.6: Structure of the processed river point dataset for Canada
</figcaption>
<div aria-describedby="tbl-rivers-points-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Column_Name</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">waterbody_id</td>
<td style="text-align: left;">Unique identifier for each river segment.</td>
</tr>
<tr class="even">
<td style="text-align: left;">geom</td>
<td style="text-align: left;">Sampled point geometry at the mid-point of the river.</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="references-1" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="references-1"><span class="header-section-number">4.4</span> References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="1" data-line-spacing="5" role="list">
<div id="ref-nrcan2022b" class="csl-entry" role="listitem">
Canada, N. R. (2022a). Atlas of canada national scale data 1:1,000,000 - rivers. Natural Resources Canada Available at: <a href="https://open.canada.ca/data/en/dataset/87bb794c-eabf-5eea-bdb3-61d0338d9594">https://open.canada.ca/data/en/dataset/87bb794c-eabf-5eea-bdb3-61d0338d9594</a>.
</div>
<div id="ref-nrcan2022a" class="csl-entry" role="listitem">
Canada, N. R. (2022b). Atlas of canada national scale data 1:1,000,000 - waterbodies. Natural Resources Canada Available at: <a href="https://open.canada.ca/data/en/dataset/e9931fc7-034c-52ad-91c5-6c64d4ba0065">https://open.canada.ca/data/en/dataset/e9931fc7-034c-52ad-91c5-6c64d4ba0065</a>.
</div>
<div id="ref-fishbase2024" class="csl-entry" role="listitem">
Froese, R. and Pauly, D. (2024). FishBase freshwater species checklist. <span>FishBase</span> Available at: <a href="https://www.fishbase.se/country/CountryChecklist.php?what=list&amp;trpp=50&amp;c_code=124&amp;csub_code=&amp;cpresence=present&amp;sortby=alpha2&amp;vhabitat=fresh">https://www.fishbase.se/country/CountryChecklist.php?what=list&amp;trpp=50&amp;c_code=124&amp;csub_code=&amp;cpresence=present&amp;sortby=alpha2&amp;vhabitat=fresh</a>.
</div>
<div id="ref-gadm2023" class="csl-entry" role="listitem">
Global Administrative Areas, G. (Database of (2023). GADM database of global administrative areas, version 4.1. GADM Available at: <a href="https://gadm.org">https://gadm.org</a>.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./1_research_compendium.html" class="pagination-link" aria-label="Research compendium">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Research compendium</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>